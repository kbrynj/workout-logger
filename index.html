
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Workout Logger</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#111827">
  <style>
    :root {
      --bg: #0b1220;
      --card: #111827;
      --muted: #9ca3af;
      --accent: #22c55e;
      --text: #e5e7eb;
      --border: #1f2937;
    }
    html, body { margin:0; padding:0; background:var(--bg); color:var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji'; }
    .container { max-width: 860px; margin: 0 auto; padding: 16px; }
    .appbar { display:flex; align-items:center; justify-content:space-between; padding: 12px 0; }
    .title { font-size: 20px; font-weight: 700; }
    .btn { background: var(--accent); color: #062410; border: none; padding: 10px 14px; border-radius: 10px; font-weight: 700; cursor:pointer; }
    .btn.secondary { background: #334155; color: var(--text); }
    .btn.warn { background: #ef4444; color: #fff; }
    .grid { display:grid; gap: 12px; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 14px; }
    label { display:block; color: var(--muted); font-size: 12px; margin-bottom: 4px; }
    input, select, textarea { width:100%; background:#0b1220; color:var(--text); border:1px solid var(--border); border-radius:10px; padding:10px; }
    .row { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    .row3 { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:12px; }
    .muted { color: var(--muted); font-size: 12px; }
    table { width:100%; border-collapse: collapse; }
    th, td { padding: 8px; border-bottom:1px solid var(--border); text-align:left; }
    .section-title { font-weight: 700; margin-bottom: 8px; }
    .footer { text-align:center; color:var(--muted); margin-top: 24px; font-size:12px; }
    .chip { display:inline-block; padding:6px 10px; border-radius:999px; background:#0b1220; border:1px solid var(--border); color:var(--muted); font-size:12px; }
    .actions { display:flex; gap:8px; flex-wrap: wrap; }
  </style>
</head>
<body>
  <div class="container">
    <div class="appbar">
      <div class="title">üèãÔ∏è Workout Logger</div>
      <div class="actions">
        <button id="installBtn" class="btn secondary">Install</button>
        <button id="exportJsonBtn" class="btn secondary">Export JSON</button>
        <button id="exportCsvBtn" class="btn secondary">Export CSV</button>
        <label for="importFile" class="btn secondary" style="cursor:pointer;">Import</label>
        <input id="importFile" type="file" accept=".json" style="display:none"/>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="section-title">New Session</div>
        <div class="row">
          <div>
            <label>Date</label>
            <input id="date" type="date">
          </div>
          <div>
            <label>Energy today</label>
            <select id="energy">
              <option>Low</option>
              <option selected>OK</option>
              <option>High</option>
            </select>
          </div>
        </div>

        <div class="row3" style="margin-top:8px;">
          <div>
            <label>Warm-up speed (km/h)</label>
            <input id="wu_speed" type="number" step="0.1" placeholder="4.5">
          </div>
          <div>
            <label>Incline (%)</label>
            <input id="wu_incline" type="number" step="0.5" placeholder="2">
          </div>
          <div>
            <label>Pulse (opt.)</label>
            <input id="wu_pulse" type="number" step="1" placeholder="">
          </div>
        </div>

        <div style="margin-top:12px;">
          <div class="section-title">Strength ‚Äì 2‚Äì3 sets √ó 10‚Äì12 reps</div>
          <div id="strengthList" class="grid"></div>
          <div class="actions" style="margin-top:8px;">
            <button id="addExerciseBtn" class="btn secondary">+ Add exercise</button>
          </div>
          <p class="muted">Default: Leg press, Chest press, Seated row, Shoulder press, Lat pulldown, Core (crunch/plank)</p>
        </div>

        <div style="margin-top:12px;">
          <div class="section-title">Cardio (treadmill intervals 15‚Äì20 min)</div>
          <div class="row3">
            <div>
              <label>Total time (min)</label>
              <input id="cardio_time" type="number" step="1" placeholder="18">
            </div>
            <div>
              <label>Walk speed (km/h)</label>
              <input id="cardio_walk" type="number" step="0.1" placeholder="4.8">
            </div>
            <div>
              <label>Run speed (km/h)</label>
              <input id="cardio_run" type="number" step="0.1" placeholder="5.8">
            </div>
          </div>
          <div class="row3" style="margin-top:8px;">
            <div>
              <label>Avg pulse</label>
              <input id="cardio_avg" type="number" step="1">
            </div>
            <div>
              <label>Max pulse</label>
              <input id="cardio_max" type="number" step="1">
            </div>
            <div>
              <label>Incline (%)</label>
              <input id="cardio_incline" type="number" step="0.5" placeholder="2">
            </div>
          </div>
        </div>

        <div style="margin-top:12px;">
          <label>Notes</label>
          <textarea id="notes" rows="3" placeholder="Any pain, toughest exercise, etc."></textarea>
        </div>

        <div class="actions" style="margin-top:12px;">
          <button id="saveBtn" class="btn">Save session</button>
          <button id="resetBtn" class="btn secondary">Reset form</button>
        </div>
      </div>

      <div class="card">
        <div class="section-title">Your Sessions</div>
        <div id="sessions"></div>
      </div>
    </div>

    <div class="footer">
      Offline-ready PWA ‚Ä¢ Data stored locally on your device
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    // PWA install
    let deferredPrompt;
    const installBtn = document.getElementById('installBtn');
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = 'inline-block';
    });
    installBtn.addEventListener('click', async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      await deferredPrompt.userChoice;
      deferredPrompt = null;
      installBtn.style.display = 'none';
    });

    // SW
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js');
    }
  </script>
</body>
</html>
